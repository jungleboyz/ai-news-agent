<!-- Results header -->
<div class="flex items-center justify-between mb-6">
    <p class="text-slate-400">
        Found <span class="font-semibold text-slate-200">{{ total }}</span> items
        {% if total > 0 %}
        (showing {{ (page - 1) * per_page + 1 }}-{{ [page * per_page, total]|min }})
        {% endif %}
    </p>
</div>

<!-- Items list -->
{% if items %}
<div class="space-y-4">
    {% for item in items %}
    <article class="relative rounded-lg border border-slate-800 bg-slate-900/70 p-5 shadow-sm hover:bg-slate-900 transition-colors">
        <div class="flex items-start gap-3">
            <!-- Type icon -->
            <div class="flex-shrink-0 mt-1">
                {% if item.type == 'news' %}
                <span class="text-lg">&#x1F4F0;</span>
                {% else %}
                <span class="text-lg">&#x1F399;&#xFE0F;</span>
                {% endif %}
            </div>

            <div class="flex-1 min-w-0">
                <!-- Title and badges -->
                <div class="flex items-start justify-between gap-4">
                    <h3 class="text-lg font-semibold text-slate-50 leading-tight">
                        <a href="{{ item.link }}" target="_blank" rel="noopener noreferrer" class="hover:text-emerald-400 transition-colors">
                            {{ item.title }}
                        </a>
                    </h3>
                    <div class="flex-shrink-0 flex items-center gap-2">
                        <span class="px-2 py-0.5 text-xs rounded bg-slate-800 text-slate-300 font-mono">[{{ item.score }}]</span>
                        {% if item.score > 0 %}
                        <span class="px-2 py-0.5 text-xs rounded bg-emerald-500/20 text-emerald-400">Match</span>
                        {% else %}
                        <span class="px-2 py-0.5 text-xs rounded bg-slate-700/50 text-slate-400">Fallback</span>
                        {% endif %}
                    </div>
                </div>

                <!-- Meta info -->
                <div class="mt-2 flex items-center gap-3 text-sm text-slate-400 flex-wrap">
                    <span>{{ item.digest.date }}</span>
                    <span>&middot;</span>
                    {% if item.type == 'news' %}
                    <span class="truncate max-w-xs">{{ item.source }}</span>
                    {% else %}
                    <span>{{ item.show_name }}</span>
                    {% endif %}
                    {% if item.cluster_label %}
                    <span class="px-2 py-0.5 text-xs rounded-full bg-slate-800 text-slate-300 border border-slate-700">{{ item.cluster_label }}</span>
                    {% endif %}
                </div>

                <!-- Summary preview -->
                {% if item.summary %}
                <p class="mt-3 text-sm text-slate-300 line-clamp-2">{{ item.summary[:200] }}{% if item.summary|length > 200 %}...{% endif %}</p>
                {% endif %}
            </div>
        </div>
    </article>
    {% endfor %}
</div>

<!-- Pagination -->
{% if total_pages > 1 %}
<div class="mt-8">
    {% include "partials/pagination.html" %}
</div>
{% endif %}
{% else %}
<div class="text-center py-16 text-slate-500">
    <p class="text-lg">No items found.</p>
    <p class="text-sm mt-2">Try adjusting your search filters.</p>
</div>
{% endif %}
